(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-textlogin-textlogin"],{2860:function(t,e,o){"use strict";var n=o("96f8"),i=o.n(n);i.a},"42c3":function(t,e,o){t.exports=o.p+"static/img/orange.2384ce14.png"},6484:function(t,e,o){"use strict";var n;o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"login_box"},[n("v-uni-view",{staticClass:"text_login"},[n("v-uni-image",{staticClass:"login_logo",attrs:{src:o("42c3"),alt:""}}),n("v-uni-view",{staticClass:"login_phone"},[n("v-uni-text",[t._v("手机号")]),n("v-uni-input",{attrs:{type:"text",placeholder:"请输入手机号",maxlength:"11"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),n("v-uni-view",{staticClass:"login_code"},[n("v-uni-text",[t._v("验证码")]),n("v-uni-input",{attrs:{type:"text",placeholder:"请输入验证码",maxlength:"4"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),n("v-uni-view",{staticClass:"code",class:{getCode:t.isShow},attrs:{"hover-class":"touchOpacity"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCode.apply(void 0,arguments)}}},[t._v(t._s(t.msg))])],1),n("v-uni-view",{staticClass:"login_but",attrs:{"hover-class":"touchOpacity"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"login",attrs:{space:"ensp"}},[t._v("登    录")]),t._v(t._s(t.codeTwo))],1)],1)],1)},a=[]},"6eba":function(t,e,o){"use strict";o.r(e);var n=o("fa69"),i=o.n(n);for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);e["default"]=i.a},"96f8":function(t,e,o){var n=o("9c4a");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=o("4f06").default;i("7e592b09",n,!0,{sourceMap:!1,shadowMode:!1})},"9c4a":function(t,e,o){var n=o("24fb");e=n(!1),e.push([t.i,".login_box[data-v-adf92160]{height:100%;background-color:#f2f2f2;overflow:hidden}.text_login[data-v-adf92160]{background-color:#fff;margin:%?20?% %?20?% 0;height:100vh;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.code[data-v-adf92160]{background-color:#18b566!important}.login[data-v-adf92160]{background-color:#18b566!important}.getCode[data-v-adf92160]{background-color:#ccc!important}.login_logo[data-v-adf92160]{width:%?364?%;height:%?96?%;margin:%?488?% 0 %?88?% 0}.login_phone[data-v-adf92160]{height:%?60?%;width:%?610?%;border-bottom:%?1?% solid #ccc;display:-webkit-box;display:-webkit-flex;display:flex;color:#666;font-size:%?24?%}uni-input[data-v-adf92160]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-left:%?15?%}.login_code[data-v-adf92160]{height:%?60?%;width:%?610?%;border-bottom:%?1?% solid #ccc;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;color:#666;font-size:%?24?%;margin-top:%?34?%}.login_code uni-view[data-v-adf92160]{width:%?160?%;line-height:%?48?%;height:%?48?%;text-align:center;background-color:#ccc;font-size:%?20?%;color:#fff}.login_but[data-v-adf92160]{width:%?610?%;line-height:49px;background-color:#18b566!important;text-align:center;font-size:%?32?%;color:#fff;margin-top:%?40?%}",""]),t.exports=e},d7ae:function(t,e,o){"use strict";o.r(e);var n=o("6484"),i=o("6eba");for(var a in i)"default"!==a&&function(t){o.d(e,t,(function(){return i[t]}))}(a);o("2860");var s,c=o("f0c5"),r=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"adf92160",null,!1,n["a"],s);e["default"]=r.exports},fa69:function(t,e,o){"use strict";var n=o("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("96cf");var i=n(o("1da1")),a={data:function(){return{msg:"点击获取验证码",isShow:!1,isTag:!0,phone:"",code:"",codeTwo:""}},methods:{getCode:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var o,n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=/^1[3-9][0-9]{9}$/,o.test(t.phone)){e.next=4;break}return t.$shotost.showTost("电话号码格式不正确"),e.abrupt("return");case 4:if(t.isTag){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,t.$http({url:"/api/sms",data:{phone:t.phone}});case 8:n=e.sent,200==n.data.code&&(uni.setStorageSync("code",n.data.list.code),t.codeTwo=uni.getStorageSync("code"),uni.setStorageSync("phone",t.phone)),i=60,t.isShow=!0,a=setInterval((function(){if(t.isTag=!1,i--,i<=0)return t.isTag=!0,clearInterval(a),t.isShow=!1,t.msg="重新发送验证码",void uni.removeStorageSync("code");t.msg=i+"秒后重新发送"}),1e3);case 13:case"end":return e.stop()}}),e)})))()},login:function(){var t=this;console.log(15523819774);var e=/^1[3-9][0-9]{9}$/;if(e.test(this.phone)){if(!this.code)return console.log(1),void this.$shotost.showTost("请输入验证码");var o=uni.getStorageSync("code"),n=1*uni.getStorageSync("phone");console.log(o,n),o?this.code!==o+""?this.$shotost.showTost("验证码错误，重新获取"):this.$http({url:"/api/smslogin",method:"POST",data:{phone:n}}).then((function(e){t.$shotost.showTost(e.data.msg),uni.setStorageSync("userInfo",e.data.list),console.log(e.data.list),setTimeout((function(){console.log(1),uni.switchTab({url:"../user/user"})}),2e3)})):this.$shotost.showTost("验证码过期，重新再试")}else this.$shotost.showTost("电话号码格式不正确")}}};e.default=a}}]);